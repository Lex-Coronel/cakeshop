{% extends 'store/navbar-in.html' %} 
{% load static %}
{% block content %}

<body class="cartpage d-flex flex-column">
    <div class="pb-5">
    <div class="container">
      
      <div class="row">
        <div class="col-lg-12 p-5 bg-white rounded shadow-sm mb-5">
          <!-- Cart Table Header -->
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col" class="border-0 bg-light">    
                    <div class="p-2 px-3 text-uppercase">Product</div>
                  </th>
                  <th scope="col" class="border-0 bg-light">
                    <div class="py-2 text-uppercase">Price</div>
                  </th>
                  <th scope="col" class="border-0 bg-light">
                    <div class="py-2 text-uppercase"s>Quantity</div>
                  </th>
                  <th scope="col" class="border-0 bg-light">
                    <div class="py-2 text-uppercase">Remove</div>
                  </th>
                </tr>
              </thead>
              <tbody>
                {% for item in items %}
                <!-- Cart Item -->
                <tr>
                  <th scope="row" class="border-0">
                    <div class="p-2">
                      <img src="{{item.product.imageURL}}" alt="" width="70" class="img-fluid rounded shadow-sm" style="margin-right: 20px;">
                      <div class="ml-3 d-inline-block align-middle">
                        <h5 class="mb-0">
                            <a href="#" class="text-dark d-inline-block align-middle fw-normal" style="text-decoration: none;">{{item.product.name}}</a>
                        </h5>
                      </div>
                    </div>
                  </th>
                  <td class="border-0 align-middle">₱{{item.product.price|floatformat:2}}</td>
                  <td class="border-0 align-middle">
                       <input type="number" class="form-control text-center" style="width: 80px;" value="{{item.quantity}}">
                  </td>
                  <td class="border-0 align-middle"><a href="{% url 'deleteItem' item.id %}" style="color: #dab88b"><i class="fa fa-trash"></i></a></td>
                </tr>
                <!-- Cart Item End -->
                {% endfor %}
              </tbody>
            </table>
          </div>
          <!-- End -->
        </div>
      </div>
      
 
      <div class="row py-5 p-4 bg-white rounded shadow-sm">
          <div class="bg-light rounded-pill px-4 py-3 text-uppercase fw-bold text-center">Order summary </div>
          <div class="p-4 text-center">
            <p class="fst-italic mb-4">Shipping and additional costs are calculated based on values you have entered.</p>
            <ul class="list-unstyled mb-4">
              <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Order Subtotal </strong><strong>₱{{order.get_cart_subtotal}}</strong></li>
              <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Shipping and handling</strong><strong>₱60.00</strong></li>
              <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Total</strong>
                <h5 class="fw-bold">₱{{order.get_cart_total}}</h5>
              </li>
            </ul><a href="{% url 'payment' %}" class="btn btn-dark py-3 btn-block p-5">Proceed to checkout</a>
          </div>
      </div>

    </div> 
  </div>
</div>


{% endblock content %}